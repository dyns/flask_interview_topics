<!DOCTYPE html>

<head>
    <title>Overview</title>
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='pure.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='grids-responsive.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div id="container">

        <h1>Interview TODO:</h1>

        <button class="pure-button pure-button-primary">New Top Section</button>

        <ul>
            {% for s in sections recursive %}

            <li><a class="pure-menu-link" href="/s/{{s.id}}">Section: {{s.title}}: confidence-{{ (s.completed_tasks / s.total_tasks * 100) | int}}&#37;</a></li>
            {% if s.sub_sections %}
            <ul>{{loop(s.sub_sections)}}</ul>
            {% else %}
            <ul>
                {% for t in s.tasks %} {% if t.completed %} {% set completed = 'checked' %} {% else %} {% set completed = '' %} {% endif %}
                <li>
                    <a href="/task/{{t.id}}" class="pure-menu-link">Topic: {{t.title}}: confidence-{{(t.confidence / 10 * 100) | int}}&#37;</a>
                    <!-- <form method="post" action="/task/{{t.id}}" class="pure-form">
                        <div>
                            <label for="conf-{{t.id}}">Confidence:</label>
                            <input type="number" min="0" max="10" id="conf-{{t.id}}" name="confidence" value={{t.confidence}} />
                        </div>
                        <button type="submit" class="pure-button pure-button-primary">Submit</button>
                    </form> -->
                </li>
                {% endfor %}
            </ul>

            {% endif %}

            <!-- <li>
                <form method="post" action="/task" class="pure-form">
                    <input type="text" name="title" />
                    <textarea name="description"></textarea>
                    <input type="hidden" name="parent" value={{s.id}} />
                    <input type="date" name="due-date" />
                    <button type="submit" class="pure-button pure-button-primary">Submit</button>
                </form>
            </li> -->

            {% endfor %}

        </ul>

        <!-- <h2>New Top Level Section</h2>

        <form method="post" class="pure-form">

            <input type="text" name="title" />

            <textarea name="description"></textarea>

            <select name="parent-id">
       <option value="">No Parent</option>
       {% for s in sections recursive %}
        <option value={{s.id}}>{{s.title}}</option>
        {% if s.sub_sections %}
         {{loop(s.sub_sections)}}
        {% endif %}
       {% endfor %}
      </select>

            <button type="submit" class="pure-button pure-button-primary">Submit</button>

        </form> -->

    </div>
</body>


</html>
