
<html>
<head>
 <title>Overview</title>
 <link rel=stylesheet type=text/css href="{{ url_for('static', filename='base.css') }}">
 <link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h1>Interview TODO:</h1>

 <ul>
 {% for s in sections recursive %}
  <li>{{s.title}} - comp: {{s.completed_tasks}} total:{{s.total_tasks}}</li>
  {% if s.sub_sections %}
   <ul>{{loop(s.sub_sections)}}</ul>
  {% else %}
   <ul>

   {% for t in s.tasks %}
	{% if t.completed %}
	 {% set completed = 'checked' %}
	{% else %}
	 {% set completed = '' %}
	{% endif %}
    <li>{{t.title}} <label><input type="checkbox" {{completed}}  >Completed?</label></li>
   {% endfor  %}
    
    <li>
    <form method="post" action="/task">
     <input type="text" name="title"/>
     <textarea name="description"></textarea>
     <!-- {% include "partials/form_section_single_select.html" %} -->
     <input type="hidden" name="parent" value={{s.id}} />
     <input type="date" name="due-date"/>
     <input type="checkbox" value="1" name="completed"/>
     <input name="task-post" type="submit" value="Submit"/>
    </form>
    </li>
   </ul>
  {% endif %} 
 {% endfor %}
 </ul>
 
<h2>New Top Level Section</h2>

 <form method="post">

  <input type="text" name="title"/>

  <textarea name="description"></textarea>  

 <select name="parent-id">
   <option value="">No Parent</option>
   {% for s in sections recursive %}
    <option value={{s.id}}>{{s.title}}</option>
    {% if s.sub_sections %}
     {{loop(s.sub_sections)}}
    {% endif %}
   {% endfor %}
  </select>
  
  <input name="section-post" type="submit" value="Submit"/>
 </form>

 
</body>
</html>

